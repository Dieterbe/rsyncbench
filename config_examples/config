# which locations to use for src and dst.
# you're free to specify whichever host you want, as long as you can sniff the right traffic
rsync_src=/tmp/rsyncbench/src
rsync_dst=localhost:/tmp/rsyncbench/dst

# where to store temporary files, have this on the same host as src
pool=/tmp/rsyncbench/pool

# how to initialise src and dst
init_pool="mkdir -p $pool"
init_src="mkdir -p $rsync_src"
init_dst="mkdir -p $(echo $rsync_dst | cut -d : -f2)"

# the tcpdumpcommand that should match *only* your rsyncbench traffic, nothing more, nothing less
# you probably want something like these in /etc/sudoers, at least for the duration of the benchmark:
# not the most secure, but hey..
# %wheel ALL=(ALL) NOPASSWD: /usr/sbin/tcpdump
# %wheel ALL=(ALL) NOPASSWD: /usr/bin/pkill
tcpdump_cmd="sudo tcpdump -q -w /tmp/rsyncpackets -i lo 'port 22 and src localhost and dst localhost'"
# how to stop the tcpdump?
tcpdump_stop='sudo pkill -f "sudo tcpdump -q -w /tmp/rsyncpackets -i lo port 22 and src localhost and dst localhost"'

# extra configuration for specific plugins goes here
test_vm_images_fetch="${XDG_CONFIG_HOME:-$HOME/.config}/rsyncbench/vm_images_fetch.sh"

